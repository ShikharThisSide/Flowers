<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Harshita üíó</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Poppins",sans-serif;
}

body{
  background:#000;
  overflow:hidden;
  color:white;
}

/* Candle ambience */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at center, rgba(255,180,120,0.06), rgba(0,0,0,0.85));
  pointer-events:none;
  animation:flicker 4s infinite;
}

@keyframes flicker{
  0%,100%{opacity:0.9}
  50%{opacity:1}
}

h1{
  position:fixed;
  top:20px;
  left:20px;
  font-size:18px;
}

.center{
  position:fixed;
  top:45%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  pointer-events:none;
}

.center h2{
  font-size:34px;
  line-height:1.35;
  background:linear-gradient(45deg,#ffb6c1,#ff5da2);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:heartbeat 2.2s infinite;
}

@keyframes heartbeat{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.04)}
}

.center p{
  opacity:0.75;
  margin-bottom:6px;
}

canvas{
  position:fixed;
  inset:0;
}

.controls{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:16px;
}

button{
  background:#4b5f56;
  border:none;
  color:white;
  padding:12px 22px;
  border-radius:30px;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>üïØÔ∏è Flower Garden</h1>

<div class="center">
  <p>Tap anywhere to begin</p>
  <h2>
    Harshita,<br>
    these flowers are for you<br>
    my lovely mumma üíó
  </h2>
</div>

<canvas id="garden"></canvas>

<div class="controls">
  <button id="clear">üßπ Clear</button>
  <button id="auto">‚ú® Auto Bloom</button>
</div>

<!-- Hidden YouTube Player -->
<div id="player" style="display:none;"></div>
<script src="https://www.youtube.com/iframe_api"></script>

<script>
const canvas = document.getElementById("garden");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

const flowerColors = [
  ["#ff7eb3","#ff4d6d"],
  ["#fff3b0","#ffd166"],
  ["#ffffff","#eaeaea"]
];

let petals = [];
let autoBloom = null;
let player, musicStarted = false;

/* YouTube */
function onYouTubeIframeAPIReady(){
  player = new YT.Player("player",{
    videoId:"jJx5GJQDqZE",
    playerVars:{
      autoplay:0,
      controls:0,
      loop:1,
      playlist:"jJx5GJQDqZE"
    }
  });
}

function startMusic(){
  if(player && !musicStarted){
    player.playVideo();
    musicStarted = true;
  }
}

/* Floating petals */
function spawnPetal(){
  petals.push({
    x:Math.random()*canvas.width,
    y:-10,
    size:6+Math.random()*6,
    speed:0.5+Math.random(),
    drift:(Math.random()-0.5)*0.5,
    rot:Math.random()*Math.PI
  });
}

function drawPetals(){
  ctx.fillStyle="rgba(255,182,193,0.7)";
  petals.forEach(p=>{
    ctx.save();
    ctx.translate(p.x,p.y);
    ctx.rotate(p.rot);
    ctx.beginPath();
    ctx.ellipse(0,0,p.size,p.size/2,0,0,Math.PI*2);
    ctx.fill();
    ctx.restore();

    p.y+=p.speed;
    p.x+=p.drift;
    p.rot+=0.01;
  });
  petals = petals.filter(p=>p.y<canvas.height+20);
}

/* Realistic flower */
function bloomFlower(x,y){
  const [c1,c2] = flowerColors[Math.floor(Math.random()*flowerColors.length)];
  let s=0;

  function anim(){
    s+=0.04;
    if(s>1) s=1;

    // stem
    ctx.strokeStyle="#2e7d32";
    ctx.lineWidth=2;
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.quadraticCurveTo(x+10,y+40,x,y+80);
    ctx.stroke();

    // petals
    ctx.shadowBlur=25;
    ctx.shadowColor=c1;
    for(let i=0;i<8;i++){
      ctx.beginPath();
      const g=ctx.createRadialGradient(x,y,2,x,y,30);
      g.addColorStop(0,c1);
      g.addColorStop(1,c2);
      ctx.fillStyle=g;
      ctx.ellipse(x,y,12*s,26*s,(Math.PI/4)*i,0,Math.PI*2);
      ctx.fill();
    }
    ctx.shadowBlur=0;

    if(s<1) requestAnimationFrame(anim);
  }
  anim();
}

/* Events */
canvas.addEventListener("click",e=>{
  startMusic();
  bloomFlower(e.clientX,e.clientY);
});

document.getElementById("auto").onclick=()=>{
  startMusic();
  if(autoBloom) return;
  autoBloom=setInterval(()=>{
    bloomFlower(Math.random()*canvas.width,Math.random()*canvas.height*0.8);
  },300);
};

document.getElementById("clear").onclick=()=>{
  ctx.clearRect(0,0,canvas.width,canvas.height);
  petals=[];
  clearInterval(autoBloom);
  autoBloom=null;
};

/* Loop */
setInterval(spawnPetal,600);

function loop(){
  drawPetals();
  requestAnimationFrame(loop);
}
loop();

onresize=()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
};
</script>

</body>
</html>
